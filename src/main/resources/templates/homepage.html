<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>首页</title>
		<link rel="stylesheet" href="//cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="/mainassets/css/index.css" th:href="@{/mainassets/css/index.css}"/>
		<link rel="stylesheet" href="/mainassets/css/public.css" th:href="@{/mainassets/css/public.css}"/>
		<link rel="stylesheet" href="/mainassets/css/js.css" th:href="@{/mainassets/css/js.css}" />
		<script src="//cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
		<script src="//cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>
	<body>
		<!-- 菜单栏 -->
		<div class="headmenu">
			<div class="head">
				<ul style="margin-left: 11.5%">
					<li style="width: 4%; margin-left: 10px;" ><a href="#" th:href="${ #strings.isEmpty(session.name)? '/sign_in.html': '/personal'}" class="li-1" th:text="${ #strings.isEmpty(session.name)?'登录': session.name}" style="text-decoration: none;"></a></li>
					<li style="width: 4%; margin-left: -10px;" ><a href="#" th:href="${ #strings.isEmpty(session.name)? '/sign_up.html': '#'}"  th:text="${ #strings.isEmpty(session.name)?'注册': ''}" class="li-1" style="text-decoration: none;"></a></li>
				</ul>
				<div class="searchbar">
					<input type="text" placeholder="搜索..."/>
				</div>
				<ul style="margin-left:65%;">
					<a href="" th:href="@{/MallHomepage.html}"><li>二手</li></a>
					<a href="#" th:href="@{/task.html}"><li>跑腿</li></a>
					<li class="submenu">
						<span>收藏夹</span>
						<ul>
							<li><a href="#">收藏的宝贝</a></li>
							<li><a href="#">收藏的店家</a></li>
						</ul>
					</li>
					<li class="submenu">
						<span>联系客服</span>
						<ul>
							<li><a href="#">消费者客服</a></li>
							<li><a href="#">卖家客服</a></li>
						</ul>
					</li>
					<li class="submenu">
						<span>更多</span>
						<ul>
							<li><a href="#">服务中心</a></li>
							<li><a href="#">问题反馈</a></li>
							<li><a href="#">退出</a></li>
						</ul>
					</li>
					<li>消息</li>
				</ul>
			</div>
		</div>
		<!-- 轮播图 -->
		<div class="coum">
			<div id="myCarousel" class="carousel slide">
				<!-- 轮播（Carousel）指标 -->
				<ol class="carousel-indicators">
					<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					<li data-target="#myCarousel" data-slide-to="1"></li>
					<li data-target="#myCarousel" data-slide-to="2"></li>
				</ol>
				<!-- 轮播（Carousel）项目 -->
				<div class="carousel-inner">
					<div class="item active">
						<img src="mainassets/img/logo01.png" alt="First slide" style="width: 100%;height: 500px;" th:src="@{/mainassets/img/logo01.png}"/>
					</div>
					<div class="item">
						<img src="mainassets/img/logo02.png" alt="Second slide" style="width: 100%;height: 500px;" th:src="@{/mainassets/img/logo02.png}">
					</div>
					<div class="item">
						<img src="mainassets/img/logo03.png" alt="Third slide" style="width: 100%;height: 500px;" th:src="@{/mainassets/img/logo03.png}">
					</div>
				</div>
				<!-- 轮播（Carousel）导航 -->
				<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev" style="background-image:none;">
					<span class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="color: rgba(0,0,0,0,1);"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next" style="background-image: none;">
					<span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="color: rgba(0,0,0,0,1);"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>


		<!-- 发布任务 -->
		<div class="task">
			<div class="task_bac" style="margin-top: 120px;">
				<a th:href="@{/dymainpage.html}"><button>click&nbsp;<span class="glyphicon glyphicon-chevron-right"></span></button></a>
			</div>
		</div>


		<div class="scrollpic">
			<p style="margin-left: 5px;font-size: 25px;font-weight:500;color: #000000;letter-spacing: 4px;float: left;">任/务</p>
			<div id="mybtns"> <a href="javascript:;" id="right"></a><a href="javascript:;" id="left"></a>  </div>
			<div id="myscroll">
				<div id="myscrollbox">
					<ul>
						<li th:each="briefTask:${session.briefTasks}">
							<a href="#">
								<img src="mainassets/img/3.png" width="260" height="240" th:src="@{'/mainassets/img/'+${briefTask.type}+'.png'}">
								<span class="intro"  th:switch="${briefTask.type}">
									<h5  th:case="1">代拿快递</h5>
									<h5  th:case="2">寻求组队</h5>
									<h5  th:case="3">课外兼职</h5>
									<h5  th:case="4">文件打印</h5>
									<h5  th:case="5">其他任务</h5>
									<p style="font-size: 18px;font-weight: 600;" th:text="${briefTask.title}">需求</p>
									<img src="mainassets/img/pic1.jpg" style="width: 50px;height: 50px;border-radius: 50%;" th:src="${briefTask.icon}"/>
									<p th:text="${briefTask.name}">如果我是一只猫</p>
									<button>加入他们</button>
								</span>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<!-- 间隔区 -->
		<div class="devede">
			<div style="margin-left: 24%;">
				<a><span>为你推荐&nbsp;</span></a>
				<span>/</span>
				<a><span>关注动态&nbsp;</span></a>
				<span>/</span>
				<a><span>电子产品&nbsp;</span></a>
				<span>/</span>
				<a><span>校园动态&nbsp;</span></a>
				<span>/</span>
				<a><span>附近宝贝</span></a>
			</div>
		</div>
		<!-- 二手市场-->
		<div class="task_show" style="margin-top: 90px;">
			<div style="float: left;width: 100%;">
				<p style="margin-left: 5px;font-size: 25px;font-weight:500;color: #000000;letter-spacing: 4px;float: left;">为/你/推/荐</p>
				<p style="float: right;margin-right: 15px;margin-top: 20px;color:#2B669A;font-size: 18px;cursor: pointer;" onclick="con()">不感兴趣？换一批&nbsp;<span class="glyphicon glyphicon-refresh"></span></p>
			</div>

			<div class="change">
				<div class="task_show_box" th:each="goods:${session.briefGoods1}">
					<div class="task_show_box_center">
						<a href="" th:href="${'/gooddetail/' + goods.id}"><img src="mainassets/img/goods2.jpg" th:src="@{${goods.pic_path}+${goods.pic_name}}"/></a>
						<div class="task_show_box_center_msg">
							<span th:text="${goods.price}">￥1000</span>
							<p class="task_show_box_center_msg_p" th:text="${goods.title}">xbox，速出</p>
							<a href="" th:href="${'/o-p-homepage/' + goods.name}"><p class="task_show_box_center_msg_p2" th:text="${goods.name}">如果我是一只猫</p></a>
							<div class="task_show_box_center_btn">
								<a href="#"><input type="button" value="联系他"/></a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="change" style="display: none;">
				<div class="task_show_box" th:each="goods:${session.briefGoods2}">
					<div class="task_show_box_center">
						<a href="" th:href="${'/gooddetail/' + goods.id}"><img src="mainassets/img/goods2.jpg" th:src="@{${goods.pic_path}+${goods.pic_name}}"/></a>
						<div class="task_show_box_center_msg">
							<span th:text="${goods.price}">￥1000</span>
							<p class="task_show_box_center_msg_p" th:text="${goods.title}">xbox，速出</p>
							<a href="" th:href="${'/o-p-homepage/' + goods.name}"><p class="task_show_box_center_msg_p2" th:text="${goods.name}">如果我是一只猫</p></a>
							<div class="task_show_box_center_btn">
								<a href="#"><input type="button" value="联系他"/></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 底部 -->
		<div class="footer">
			<div class="footer_outer">
				<div class="footer_outer_list" style="margin-left: 6%;">
					<p style="margin-top: 20px;font-size: 16px;color: #333333;letter-spacing: 1px;font-weight: 600;">跑腿代购</p>
					<p>发布需求</p>
					<p>接单中心</p>
					<p>配送员认证</p>
					<p>个人中心</p>
				</div>
				<div class="footer_outer_list">
					<p style="margin-top: 20px;font-size: 16px;color: #333333;letter-spacing: 1px;font-weight: 600;">二手市场</p>
					<p>分类</p>
					<p>我的订单</p>
					<p>我的收藏</p>
					<p>个人中心</p>
				</div>
				<div class="footer_outer_list">
					<p style="margin-top: 20px;font-size: 16px;color: #333333;letter-spacing: 1px;font-weight: 600;">个人信息</p>
					<p>信息认证</p>
					<p>信息修改</p>
					<p>账号注销</p>
					<p>个人中心</p>
				</div>

				<div class="footer_outer_list">
					<p style="margin-top: 20px;font-size: 16px;color: #333333;letter-spacing: 1px;font-weight: 600;">订单中心</p>
					<p>我的订单</p>
					<p>我的物品</p>
					<p>我的接单</p>
					<p>个人中心</p>
				</div>
				<div class="footer_outer_list">
					<p style="margin-top: 20px;font-size: 16px;color: #333333;letter-spacing: 1px;font-weight: 600;">关注微信</p>
					<img src="mainassets/img/007.png" th:src="@{/mainassets/img/007.png}"/>
				</div>
			</div>
		</div>

		<!-- js -->
		<script type="text/javascript">
            $(document).ready(function() {
                var blw=$("#myscrollbox li").width();
                //获取单个子元素所需宽度
                var liArr = $("#myscrollbox ul").children("li");
                //获取子元素数量
                var mysw = $("#myscroll").width();
                //获取子元素所在区域宽度
                var mus = parseInt(mysw/blw);
                //计算出需要显示的子元素的数量
                var length = liArr.length-mus;
                //计算子元素可移动次数（被隐藏的子元素数量）
                var i=0
                $("#right").click(function(){
                    i++
                    //点击i加1
                    if(i<length){
                        $("#myscrollbox").css("left",-(blw*i));
                        //子元素集合向左移动，距离为子元素的宽度乘以i。
                    }else{
                        i=length;
                        $("#myscrollbox").css("left",-(blw*length));
                        //超出可移动范围后点击不再移动。最后几个隐藏的元素显示时i数值固定位已经移走的子元素数量。
                    }
                });
                $("#left").click(function(){
                    i--
                    //点击i减1
                    if(i>=0){
                        $("#myscrollbox").css("left",-(blw*i));
                        //子元素集合向右移动，距离为子元素的宽度乘以i。
                    }else{
                        i=0;
                        $("#myscrollbox").css("left",0);
                        //超出可移动范围后点击不再移动。最前几个子元素被显示时i为0。
                    }
                });
            });
            flag = 0;
            pre = 0;
            function con(){
                var cons = document.getElementsByClassName("change");
                document.getElementsByClassName("change")[pre].style.display = "none";
                document.getElementsByClassName("change")[flag].style.display = "inline";
                console.log(flag);
                pre = flag;
                if(flag == cons.length - 1) {
                    flag = 0;
                } else {
                    ++flag;
                }
            }
		</script>
	</body>
</html>
